#Wrangler Steuerung --env sensibler Trennung zwischen staging und production
name = "opengov-privacy-api"
main = "worker.mjs"
compatibility_date = "2024-11-01"

# Optional: nur f√ºr lokales `wrangler dev` ohne --env 
[vars]
MODE = "mock"
MOCK_BASE = "https://raw.githubusercontent.com/open-gov-group/opengov-privacy-mappings/main"
DATA_OWNER = "open-gov-group"
DATA_REPO  = "opengov-privacy-data"
DATA_BASE  = "main"
JWT_ISS = "open-privacy-api"
JWT_AUD = "opengov-privacy-ui"
JWT_ALG = "HS256"

# ---- STAGING (Demo / Mock) ----
[env.staging]
[env.staging.vars]
MODE = "mock"
MOCK_BASE = "https://raw.githubusercontent.com/open-gov-group/opengov-privacy-mappings/main"
DATA_OWNER = "open-gov-group"
DATA_REPO  = "opengov-privacy-data"
DATA_BASE  = "main"
JWT_ISS = "open-privacy-api"
JWT_AUD = "opengov-privacy-ui"
JWT_ALG = "HS256"

# ---- PRODUCTION (echte Speicherung ins Data-Repo) ----
[env.production]
[env.production.vars]
MODE = "prod"
# In prod meist kein MOCK_BASE notwendig; falls verwendet, gern eigene Release-URL
MOCK_BASE = "https://raw.githubusercontent.com/open-gov-group/opengov-privacy-mappings/main"
DATA_OWNER = "open-gov-group"
DATA_REPO  = "opengov-privacy-data"
DATA_BASE  = "main"
JWT_ISS = "open-privacy-api"
JWT_AUD = "opengov-privacy-ui"
JWT_ALG = "HS256"



